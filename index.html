<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Weekly Habit Tracker</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet"/>

    <!-- Tailwind (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Mavo -->
    <link rel="stylesheet" href="https://get.mavo.io/mavo.css"/>
    <script src="https://get.mavo.io/mavo.js"></script>
    <script src="https://plugins.mavo.io/storage/github/mavo-github.js"></script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
  </head>
  <body class="min-h-screen antialiased" style="background:#F4EFEA; color:#383838; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; letter-spacing: 0.02em;">
    <!-- App Root (custom toolbar; Mavo bar hidden) -->
    <main mv-app="habits"
          mv-bar="none"
          mv-storage="github:hsingh23/harsh-habit-tracker/weekly-habit-tracker-notes.md"
          class="mx-auto max-w-7xl px-6 py-8 md:py-12">

      <!-- Header / App Bar -->
      <header class="flex items-center justify-between gap-4">
        <!-- Logo: letters only, tight tracking -->
        <div class="flex items-center gap-3">
          <div class="flex items-center justify-center" style="width:44px;height:44px;border:2px solid #383838;border-radius:2px;background:#FFFFFF;box-shadow:-6px 6px 0 0 #383838;">
            <span class="select-none" style="font-family:'Space Mono', monospace; font-size:18px; letter-spacing:-0.02em;">HH</span>
          </div>
          <div class="uppercase" style="font-family:'Space Mono', monospace; font-size:20px; letter-spacing:-0.02em;">Habit Tracker</div>
        </div>

        <!-- Toolbar (custom Mavo controls) -->
        <div class="flex items-center gap-3">
          <button mv-action="edit" class="inline-flex items-center gap-2 transition-transform" style="border:2px solid #383838;border-radius:2px;background:#F4EFEA;color:#383838;font-weight:500;font-size:14px;padding:12px 14px;">
            <i data-lucide="pencil" style="width:18px;height:18px;"></i>
            <span class="uppercase">Edit</span>
          </button>
          <button mv-action="save" class="inline-flex items-center gap-2 transition-transform hover:-translate-y-1 hover:translate-x-1" style="border:2px solid #383838;border-radius:2px;background:#6FC2FF;color:#383838;font-weight:500;font-size:14px;padding:12px 14px; box-shadow:-6px 6px 0 0 #383838;">
            <i data-lucide="save" style="width:18px;height:18px;"></i>
            <span class="uppercase">Save</span>
          </button>
          <button mv-action="logout" class="hidden md:inline-flex items-center gap-2 transition-transform" style="border:2px solid #383838;border-radius:2px;background:#FFFFFF;color:#383838;font-weight:500;font-size:14px;padding:12px 14px;">
            <i data-lucide="log-out" style="width:18px;height:18px;"></i>
            <span class="uppercase">Logout</span>
          </button>
        </div>
      </header>

      <!-- Divider -->
      <div class="my-6" style="height:2px;background:#383838;opacity:.15;"></div>

      <!-- Meta / Overview -->
      <section class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6">
        <div class="col-span-1 md:col-span-2 rounded-[2px]" style="border:2px solid #383838;background:#FFFFFF;box-shadow:-8px 8px 0 0 #383838;">
          <div class="p-5 md:p-6 flex items-center justify-between gap-4">
            <div>
              <div class="inline-block" style="font-family:'Space Mono', monospace;text-transform:uppercase;font-size:14px;background:#383838;color:#FFFFFF;padding:6px 10px;border-radius:2px;">Weekly Overview</div>
              <h1 class="mt-3 md:mt-4" style="font-size:32px;line-height:1.2;letter-spacing:-0.02em;text-transform:uppercase;font-weight:500;">Consistency Over Perfection</h1>
              <p class="mt-2 text-sm md:text-base" style="font-weight:300;">Track morning light, movement, meals, and windâ€‘down rituals. Save to your repo for a simple weekly loop.</p>
            </div>
            <div class="hidden md:flex items-center justify-center" style="width:120px;height:120px;border:2px solid #383838;border-radius:2px;background:#FFDE00;box-shadow:-6px 6px 0 0 #383838;">
              <i data-lucide="calendar-check" style="width:56px;height:56px;"></i>
            </div>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 p-5 pt-0 md:px-6 md:pb-6">
            <div class="rounded-[2px] p-3" style="border:2px solid #383838;background:#FFFFFF;">
              <div class="text-[12px] uppercase" style="font-family:'Space Mono', monospace;">Completed</div>
              <div class="mt-1" style="font-size:22px;letter-spacing:-0.02em;">[sum(day.morningLight + day.workout + day.walk + day.fastingMet + day.guitar + day.stretch + day.journal)] / [count(day) * 7]</div>
            </div>
            <div class="rounded-[2px] p-3" style="border:2px solid #383838;background:#FFFFFF;">
              <div class="text-[12px] uppercase" style="font-family:'Space Mono', monospace;">Days</div>
              <div class="mt-1" style="font-size:22px;letter-spacing:-0.02em;">[count(day)]</div>
            </div>
            <div class="rounded-[2px] p-3" style="border:2px solid #383838;background:#FFFFFF;">
              <div class="text-[12px] uppercase" style="font-family:'Space Mono', monospace;">Start</div>
              <div class="mt-1" style="font-size:16px;">[weekStart]</div>
            </div>
            <div class="rounded-[2px] p-3" style="border:2px solid #383838;background:#FFFFFF;">
              <div class="text-[12px] uppercase" style="font-family:'Space Mono', monospace;">Target/Day</div>
              <div class="mt-1" style="font-size:22px;letter-spacing:-0.02em;">7</div>
            </div>
          </div>
        </div>

        <div class="col-span-1 rounded-[2px] flex flex-col gap-3" style="border:2px solid #383838;background:rgba(248,248,247,0.7);box-shadow:-8px 8px 0 0 #383838;">
          <div class="p-5 md:p-6">
            <div class="text-[12px] uppercase" style="font-family:'Space Mono', monospace;">Week</div>
            <input property="weekStart" type="date" class="mt-2 w-full focus:outline-none" style="background:#FFFFFF;border:2px solid #383838;border-radius:2px;padding:12px 12px;font-size:14px;" />
            <div class="mt-3 text-sm" style="font-weight:300;">Adjust the start date, then mark your habits below. Save when done.</div>
          </div>
          <div class="px-5 pb-5 md:px-6 md:pb-6 grid grid-cols-2 gap-3">
            <button mv-action="set(day.morningLight = 0, day.workout = 0, day.walk = 0, day.fastingMet = 0, day.guitar = 0, day.stretch = 0, day.journal = 0, day.socialNight = 0)" class="inline-flex items-center justify-center gap-2 transition-transform hover:-translate-y-1 hover:translate-x-1" style="border:2px solid #383838;border-radius:2px;background:#FFFFFF;color:#383838;font-weight:500;font-size:14px;padding:12px 14px;box-shadow:-6px 6px 0 0 #383838;">
              <i data-lucide="rotate-ccw" style="width:18px;height:18px;"></i>
              <span class="uppercase">Reset Week</span>
            </button>
            <a href="https://github.com/hsingh23/harsh-habit-tracker" target="_blank" rel="noopener" class="inline-flex items-center justify-center gap-2 transition-transform" style="border:2px solid #383838;border-radius:2px;background:#6FC2FF;color:#383838;font-weight:500;font-size:14px;padding:12px 14px;">
              <i data-lucide="github" style="width:18px;height:18px;"></i>
              <span class="uppercase">Repo</span>
            </a>
          </div>
        </div>
      </section>

      <!-- Days Grid -->
      <section class="mt-8 md:mt-12">
        <div class="flex items-center justify-between">
          <div class="inline-block" style="font-family:'Space Mono', monospace;text-transform:uppercase;font-size:14px;background:#383838;color:#FFFFFF;padding:6px 10px;border-radius:2px;">Daily Checklist</div>
        </div>

        <div class="mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5">
          <div mv-list property="day" class="contents" mv-item-bar="none">
            <!-- Day Card Template (repeat 7 times pre-seeded) -->
            <article mv-list-item class="rounded-[2px] flex flex-col" style="border:2px solid #383838;background:#FFFFFF;box-shadow:-8px 8px 0 0 #383838;">
              <div class="p-5 flex items-center justify-between gap-3" style="border-bottom:2px solid #383838;">
                <div class="flex items-center gap-3">
                  <div class="inline-block" style="font-family:'Space Mono', monospace;text-transform:uppercase;font-size:12px;background:#383838;color:#FFFFFF;padding:6px 10px;border-radius:2px;">[name]</div>
                  <input property="name" class="hidden" />
                </div>
                <input property="date" type="date" class="focus:outline-none" style="background:#FFFFFF;border:2px solid #383838;border-radius:2px;padding:6px 8px;font-size:12px;"/>
              </div>

              <!-- Habits List -->
              <div class="p-5 grid grid-cols-1 gap-3">
                <!-- Toggle helper: a square with optional check icon; clicking anywhere toggles the boolean -->

                <!-- Morning Light -->
                <button mv-action="set(morningLight = !morningLight)" class="w-full flex items-center justify-between gap-4 text-left transition-colors" style="border:2px solid #383838;border-radius:2px;background:#FFFFFF;padding:10px 12px;">
                  <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center" style="width:22px;height:22px;border:2px solid #383838;border-radius:2px;background:#FFFFFF;">
                      <i data-lucide="check" mv-if="morningLight" style="width:16px;height:16px;"></i>
                    </div>
                    <span style="font-size:14px;">Morning Light</span>
                  </div>
                </button>
                <input property="morningLight" type="checkbox" class="hidden" />

                <!-- Workout -->
                <button mv-action="set(workout = !workout)" class="w-full flex items-center justify-between gap-4 text-left transition-colors" style="border:2px solid #383838;border-radius:2px;background:#FFFFFF;padding:10px 12px;">
                  <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center" style="width:22px;height:22px;border:2px solid #383838;border-radius:2px;background:#FFFFFF;">
                      <i data-lucide="check" mv-if="workout" style="width:16px;height:16px;"></i>
                    </div>
                    <span style="font-size:14px;">Exercise</span>
                  </div>
                </button>
                <input property="workout" type="checkbox" class="hidden" />

                <!-- Walk -->
                <button mv-action="set(walk = !walk)" class="w-full flex items-center justify-between gap-4 text-left transition-colors" style="border:2px solid #383838;border-radius:2px;background:#FFFFFF;padding:10px 12px;">
                  <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center" style="width:22px;height:22px;border:2px solid #383838;border-radius:2px;background:#FFFFFF;">
                      <i data-lucide="check" mv-if="walk" style="width:16px;height:16px;"></i>
                    </div>
                    <span style="font-size:14px;">Walk</span>
                  </div>
                </button>
                <input property="walk" type="checkbox" class="hidden" />

                <!-- Fasting Window Met -->
                <button mv-action="set(fastingMet = !fastingMet)" class="w-full flex items-center justify-between gap-4 text-left transition-colors" style="border:2px solid #383838;border-radius:2px;background:#FFFFFF;padding:10px 12px;">
                  <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center" style="width:22px;height:22px;border:2px solid #383838;border-radius:2px;background:#FFFFFF;">
                      <i data-lucide="check" mv-if="fastingMet" style="width:16px;height:16px;"></i>
                    </div>
                    <span style="font-size:14px;">Meals in Window</span>
                  </div>
                </button>
                <input property="fastingMet" type="checkbox" class="hidden" />

                <!-- Guitar -->
                <button mv-action="set(guitar = !guitar)" class="w-full flex items-center justify-between gap-4 text-left transition-colors" style="border:2px solid #383838;border-radius:2px;background:#FFFFFF;padding:10px 12px;">
                  <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center" style="width:22px;height:22px;border:2px solid #383838;border-radius:2px;background:#FFFFFF;">
                      <i data-lucide="check" mv-if="guitar" style="width:16px;height:16px;"></i>
                    </div>
                    <span style="font-size:14px;">Guitar</span>
                  </div>
                </button>
                <input property="guitar" type="checkbox" class="hidden" />

                <!-- Stretch -->
                <button mv-action="set(stretch = !stretch)" class="w-full flex items-center justify-between gap-4 text-left transition-colors" style="border:2px solid #383838;border-radius:2px;background:#FFFFFF;padding:10px 12px;">
                  <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center" style="width:22px;height:22px;border:2px solid #383838;border-radius:2px;background:#FFFFFF;">
                      <i data-lucide="check" mv-if="stretch" style="width:16px;height:16px;"></i>
                    </div>
                    <span style="font-size:14px;">Stretch</span>
                  </div>
                </button>
                <input property="stretch" type="checkbox" class="hidden" />

                <!-- Journal -->
                <button mv-action="set(journal = !journal)" class="w-full flex items-center justify-between gap-4 text-left transition-colors" style="border:2px solid #383838;border-radius:2px;background:#FFFFFF;padding:10px 12px;">
                  <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center" style="width:22px;height:22px;border:2px solid #383838;border-radius:2px;background:#FFFFFF;">
                      <i data-lucide="check" mv-if="journal" style="width:16px;height:16px;"></i>
                    </div>
                    <span style="font-size:14px;">Voice Journal</span>
                  </div>
                </button>
                <input property="journal" type="checkbox" class="hidden" />

                <!-- Social Late Night (neutral tracker) -->
                <button mv-action="set(socialNight = !socialNight)" class="w-full flex items-center justify-between gap-4 text-left transition-colors" style="border:2px dashed #383838;border-radius:2px;background:#FFFFFF;padding:10px 12px;">
                  <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center" style="width:22px;height:22px;border:2px solid #383838;border-radius:2px;background:#FFFFFF;">
                      <i data-lucide="moon" mv-if="socialNight" style="width:16px;height:16px;"></i>
                    </div>
                    <span style="font-size:14px;">Social Late Night</span>
                  </div>
                </button>
                <input property="socialNight" type="checkbox" class="hidden" />

                <!-- Notes -->
                <div class="mt-1">
                  <label class="block" style="font-size:12px;text-transform:uppercase;font-family:'Space Mono', monospace;">Notes</label>
                  <textarea property="notes" rows="3" class="w-full focus:outline-none" style="margin-top:6px;background:rgba(248,248,247,0.7);border:2px solid #383838;border-radius:2px;padding:10px 12px;font-size:14px;"></textarea>
                </div>
              </div>
            </article>

            <!-- Seed 7 items (names default) -->
            <article mv-list-item class="hidden"><input property="name" value="Monday" class="hidden"/></article>
            <article mv-list-item class="hidden"><input property="name" value="Tuesday" class="hidden"/></article>
            <article mv-list-item class="hidden"><input property="name" value="Wednesday" class="hidden"/></article>
            <article mv-list-item class="hidden"><input property="name" value="Thursday" class="hidden"/></article>
            <article mv-list-item class="hidden"><input property="name" value="Friday" class="hidden"/></article>
            <article mv-list-item class="hidden"><input property="name" value="Saturday" class="hidden"/></article>
            <article mv-list-item class="hidden"><input property="name" value="Sunday" class="hidden"/></article>
          </div>
        </div>
      </section>

      <!-- Footer / Helper Links -->
      <footer class="mt-12 md:mt-16 flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
        <div class="flex items-center gap-2 text-sm" style="font-weight:300;">
          <span class="inline-flex items-center justify-center" style="width:18px;height:18px;border:2px solid #383838;border-radius:2px;background:#FFFFFF;">
            <i data-lucide="check" style="width:14px;height:14px;"></i>
          </span>
          Tap tiles to toggle. Save writes to your GitHub file.
        </div>
        <div class="flex items-center gap-3">
          <a href="weekly-habit-tracker-notes.md" target="_blank" class="inline-flex items-center gap-2" style="border-bottom:2px solid #383838; padding-bottom:2px;">
            <i data-lucide="file-text" style="width:18px;height:18px;"></i>
            <span class="link" style="font-size:14px;">Open notes</span>
          </a>
        </div>
      </footer>
    </main>

    <script>
      // Initialize lucide icons with 1.5 stroke width
      document.addEventListener('DOMContentLoaded', () => {
        if (window.lucide && typeof window.lucide.createIcons === 'function') {
          window.lucide.createIcons({ attrs: { 'stroke-width': 1.5 } });
        }
      });

      // Re-render icons after Mavo updates DOM (load/save/edit)
      ['mv-load','mv-save','mv-change','mv-edit'].forEach(evt => {
        document.addEventListener(evt, () => {
          if (window.lucide && typeof window.lucide.createIcons === 'function') {
            window.lucide.createIcons({ attrs: { 'stroke-width': 1.5 } });
          }
        });
      });
    </script>
  </body>
  
</html>

